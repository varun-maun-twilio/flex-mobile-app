(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{3447:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/conversation-list/ActiveConversation",function(){return n(5981)}])},5981:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(7568),o=n(797),a=n(655),s=n(5893),i=n(7294),l=n(3854),c=n(9483),u=n.n(c),f=n(381),d=n.n(f);function m(e){var t,n=e.closeChatWindow,c=e.conversation,f=function(e){y(function(t){return(0,o.Z)(t).concat([e])})},m=function(e){w(e.target.value)},p=function(){c.sendMessage(x),w("")},h=(0,i.useState)([]),b=h[0],y=h[1],v=(0,i.useRef)(null),g=(0,i.useState)(""),x=g[0],w=g[1],j=(0,i.useState)(null),N=j[0],_=j[1];(0,i.useEffect)(function(){(0,r.Z)(function(){var e,t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return e=console.error,t={conversation:c},[4,c.getParticipantByIdentity("WK27f332f51400be0c49a54225bba6499d")];case 1:return e.apply(console,[(t.participant=n.sent(),t)]),[2]}})})(),c.setAllMessagesRead(),function(){E.apply(this,arguments)}(),c.on("messageAdded",function(e){return f(e,c)}),c.updateLastReadMessageIndex(1),(0,r.Z)(function(){return(0,a.__generator)(this,function(e){switch(e.label){case 0:return[4,u().getItem("flex-mobile-conversation-identity")];case 1:return _.apply(void 0,[e.sent()]),[2]}})})()},[]);var C=function(){var e;null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};function E(){return(E=(0,r.Z)(function(){return(0,a.__generator)(this,function(e){return c.getMessages(1e3).then(function(e){y(e.items.map(function(e){return{author:e.author,sid:e.sid,body:e.body,dateCreated:e.dateCreated,attributes:e.attributes,type:e.type}}))}),[2]})})).apply(this,arguments)}return(0,i.useEffect)(function(){C(),c.setAllMessagesRead()},[b]),(0,s.jsxs)("div",{className:"container mx-auto flex flex-col h-full v-full",children:[(0,s.jsxs)("nav",{className:"p-4 shadow border-b-1 border-slate-500 flex justify-between items-center",children:[(0,s.jsxs)("a",{onClick:function(){return n()},children:["   ",(0,s.jsx)(l.DEl,{size:50,className:""})]}),(0,s.jsx)("span",{children:null==c?void 0:null===(t=c.attributes)||void 0===t?void 0:t.customerNumber})]}),(0,s.jsxs)("div",{className:"grow w-full overflow-y-auto scroll-smooth",children:[(0,s.jsx)("ul",{className:"p-4",children:b.map(function(e){return(0,s.jsxs)("li",{className:"flex flex-col my-4 ",children:[(0,s.jsx)("div",{className:"inline-flex relative px-4 py-2 text-gray-700 rounded shadow "+(N==e.author?" self-end bg-sky-100":" self-start bg-neutral-100 "),children:e.body}),(0,s.jsx)("div",{className:"mt-1 text-xs "+(N==e.author?"self-end":"self-start"),children:d()(e.dateCreated).format("MM/DD/YYYY, h:mm:ss a")})]},e.sid)})}),(0,s.jsx)("div",{ref:v})]}),(0,s.jsxs)("div",{className:"flex w-full",children:[(0,s.jsx)("input",{type:"text",value:x,onChange:m,className:" grow form-control block px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none ",placeholder:"Enter Message"}),(0,s.jsx)("button",{className:"block align-middle mx-auto shadow bg-blue-600 text-white text-l py-3 px-10 font-bold",onClick:p,children:"Send"})]})]})}},8357:function(e,t,n){"use strict";n.d(t,{w_:function(){return l}});var r=n(7294),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(o),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function l(e){return function(t){return r.createElement(c,s({attr:s({},e.attr)},t),function e(t){return t&&t.map(function(t,n){return r.createElement(t.tag,s({key:n},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var n,o=e.attr,a=e.size,l=e.title,c=i(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,c,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==a?r.createElement(a.Consumer,null,function(e){return t(e)}):t(o)}},797:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[556,885,105,774,888,179],function(){return e(e.s=3447)}),_N_E=e.O()}]);